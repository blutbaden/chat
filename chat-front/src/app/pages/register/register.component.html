<div
    style="margin-top: 10%"
    class="d-flex align-items-center justify-content-center"
>
    <div
        class="p-5 card shadow-lg w-50 d-flex align-items-center justify-content-center flex-column"
    >
        <div class="mb-4 font-weight-bold">Registration</div>
        <div class="bg-light w-100">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div *ngIf="success" class="alert alert-success">
                        <strong>Registration saved!</strong> Please check your email for
                        confirmation.
                    </div>
                    <div *ngIf="error" class="alert alert-danger">
                        <strong>Registration failed!</strong> Please try again later.
                    </div>
                    <div *ngIf="errorUserExists" class="alert alert-danger">
                        <strong>Login name already registered!</strong> Please choose
                        another one.
                    </div>
                    <div *ngIf="errorEmailExists" class="alert alert-danger">
                        <strong>Email is already in use!</strong> Please choose another one.
                    </div>
                </div>
            </div>
            <form
                (ngSubmit)="register()"
                *ngIf="!success"
                [formGroup]="registerForm"
                name="form"
                role="form"
            >
                <div class="form-group">
                    <input
                        #login
                        class="form-control"
                        data-cy="username"
                        formControlName="login"
                        id="login"
                        name="login"
                        placeholder="username"
                        type="text"
                    />
                    <div
                        *ngIf="
              registerForm.get('login')!.invalid &&
              (registerForm.get('login')!.dirty ||
                registerForm.get('login')!.touched)
            "
                    >
                        <small
                            *ngIf="registerForm.get('login')?.errors!['required']"
                            class="form-text text-danger"
                        >
                            Your username is required.
                        </small>

                        <small
                            *ngIf="registerForm.get('login')?.errors!['minlength']"
                            class="form-text text-danger"
                        >
                            Your username is required to be at least 1 character.
                        </small>

                        <small
                            *ngIf="registerForm.get('login')?.errors!['maxlength']"
                            class="form-text text-danger"
                        >
                            Your username cannot be longer than 50 characters.
                        </small>

                        <small
                            *ngIf="registerForm.get('login')?.errors!['pattern']"
                            class="form-text text-danger"
                        >
                            Your username can only contain letters and digits.
                        </small>
                    </div>
                </div>
                <div class="form-group">
                    <input
                        class="form-control"
                        data-cy="email"
                        formControlName="email"
                        id="email"
                        name="email"
                        placeholder="email"
                        type="email"
                    />

                    <div
                        *ngIf="
              registerForm.get('email')!['invalid'] &&
              (registerForm.get('email')!.dirty ||
                registerForm.get('email')!.touched)
            "
                    >
                        <small
                            *ngIf="registerForm.get('email')?.errors!['required']"
                            class="form-text text-danger"
                        >
                            Your email is required.
                        </small>

                        <small
                            *ngIf="registerForm.get('email')?.errors!['invalid']"
                            class="form-text text-danger"
                        >
                            Your email is invalid.
                        </small>

                        <small
                            *ngIf="registerForm.get('email')?.errors!['minlength']"
                            class="form-text text-danger"
                        >
                            Your email is required to be at least 5 characters.
                        </small>

                        <small
                            *ngIf="registerForm.get('email')?.errors!['maxlength']"
                            class="form-text text-danger"
                        >
                            Your email cannot be longer than 100 characters.
                        </small>
                    </div>
                </div>
                <div class="form-group">
                    <input
                        class="form-control"
                        data-cy="firstPassword"
                        formControlName="password"
                        id="password"
                        name="password"
                        placeholder="password"
                        type="password"
                    />

                    <div
                        *ngIf="
              registerForm.get('password')!['invalid'] &&
              (registerForm.get('password')!.dirty ||
                registerForm.get('password')!.touched)
            "
                    >
                        <small
                            *ngIf="registerForm.get('password')?.errors!['required']"
                            class="form-text text-danger"
                        >
                            Your password is required.
                        </small>

                        <small
                            *ngIf="registerForm.get('password')?.errors!['minlength']"
                            class="form-text text-danger"
                        >
                            Your password is required to be at least 4 characters.
                        </small>

                        <small
                            *ngIf="registerForm.get('password')?.errors!['maxlength']"
                            class="form-text text-danger"
                        >
                            Your password cannot be longer than 50 characters.
                        </small>
                    </div>
                </div>
                <div class="form-group">
                    <button
                        [disabled]="registerForm.invalid"
                        class="btn btn-primary"
                        data-cy="submit"
                        type="submit"
                    >
                        Register
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
